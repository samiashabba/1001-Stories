<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8" />
<title>1,001 Stories</title>

<link href="./assets/css/style.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Amatic+SC" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Oswald:300" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Josefin+Slab" rel="stylesheet">

<script src="assets/js/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/ScrollMagic.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/plugins/debug.addIndicators.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/plugins/animation.gsap.js"></script>
<script src="assets/js/bodymovin.js"></script>

</head>

<body>
<div class="spacer s0" id="trigger"></div>
<div id="parallax1" class="parallaxParent">
	<!-- <div id="bm"> -->
    <div id="imagesequence">
      <img id="myimg" src="assets/img/1001-soundspectrum1.png"><br>
    </div>
    <!-- <div class="spacer s2"></div> -->
    <script>
        // define images
        var images = [
          "assets/img/1001-soundspectrum1.png",
          "assets/img/1001-soundspectrum2.png",
          "assets/img/1001-soundspectrum3.png",
          "assets/img/1001-soundspectrum4.png",
          "assets/img/1001-soundspectrum5.png",
          "assets/img/1001-soundspectrum6.png",
          "assets/img/1001-soundspectrum7.png",
          "assets/img/1001-soundspectrum8.png",
          "assets/img/1001-soundspectrum9.png",
          "assets/img/1001-soundspectrum10.png",
          "assets/img/1001-soundspectrum11.png"
        ];

        // TweenMax can tween any property of any object. We use this object to cycle through the array
        var obj = {curImg: 0};

        // create tween
        var tween = TweenMax.to(obj, 0.5,
          {
            curImg: images.length - 1,  // animate propery curImg to number of images
            roundProps: "curImg",       // only integers so it can be used as an array index
            repeat: 2,                  // repeat 3 times
            immediateRender: false,     // load first image automatically
            ease: Linear.easeIn,      // show every image the same ammount of time
            onUpdate: function () {
              $("#myimg").attr("src", images[obj.curImg]); // set the image source
            }
          }
        );

        // init controller
        var controller = new ScrollMagic.Controller();

        // build scene
        var scene = new ScrollMagic.Scene({triggerElement: "#trigger", duration: 1200})
                .setTween(tween)
                // .addIndicators() // add indicators (requires plugin)
                .addTo(controller);
      </script>

    <!-- </div> -->
  </div>
</div>
<div class="spacer s1">
	<div class="box2 content">
		<h2>Hi, I'm Devi!</h2>
		<div id="intro">
			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus pellentesque volutpat tortor, in gravida nisi malesuada eu. Nam et leo ac augue porttitor posuere. Maecenas ac velit dignissim, rhoncus lacus eu, vestibulum lacus. Fusce mi tellus, semper quis volutpat eget, vulputate sagittis nunc. Aliquam lobortis eros nisi. Etiam efficitur diam accumsan quam pellentesque placerat. Integer metus lectus, pellentesque non quam quis, suscipit mattis sapien. Nam dapibus ac lacus a scelerisque. Aliquam posuere ante nec volutpat tincidunt. Morbi nec ullamcorper nisl. Morbi pellentesque ligula a sem vestibulum lobortis. Phasellus hendrerit tincidunt ligula, vitae gravida nisl tempus ut. Duis interdum tempor augue vel faucibus.</p>
			<img src="assets/img/devi-intro.jpeg">
		</div>
	</div>
</div>

<div class="spacer s0"></div>
<div id="parallax2" class="parallaxParent">
	<div style="background-image: url(assets/img/map-placeholder.png);"></div>
</div>

<div class="spacer s1">
	<div class="box2 content">
		<h2>Tell Me Your Story</h2>
		<p>I would love to hear your story about water or climate change!<br></p>
		<p>You can record a message at +1 (857) 529-8552 and add your story to the 1,001 Stories archive.</p>
	</div>
</div>
<div class="spacer s0"></div>
<!-- <div id="parallax3" class="parallaxParent">
	<div style="background-image: url(assets/img/linus-nylund-465861-unsplash.jpg); background-size: 100%;"></div>
</div> -->
<div class="spacer s2"></div>
<script>
	// init controller
	var controller = new ScrollMagic.Controller({globalSceneOptions: {triggerHook: "onEnter", duration: "200%"}});

	// build scenes
	new ScrollMagic.Scene({triggerElement: "#parallax1"})
					.setTween("#parallax1 > div", {y: "80%", ease: Linear.easeNone})
					// .addIndicators()
					.addTo(controller);

	new ScrollMagic.Scene({triggerElement: "#parallax2"})
					.setTween("#parallax2 > div", {y: "80%", ease: Linear.easeNone})
					// .addIndicators()
					.addTo(controller);

	// new ScrollMagic.Scene({triggerElement: "#parallax3"})
	// 				.setTween("#parallax3 > div", {y: "80%", ease: Linear.easeNone})
	// 				// .addIndicators()
	// 				.addTo(controller);
</script>

<!-- <script>
  var animation = bodymovin.loadAnimation({
    container: document.getElementById('bm'),
    renderer: 'svg',
    loop: true,
    autoplay: true,
    path: 'assets/json/1001-logo-w-waves.json'
  })
</script> -->

</body>
<footer>
  <!-- <p id="footer">Follow me on my journey!</p> -->
  <span><a href="https://twitter.com/TwitterDev?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-screen-name="false" data-show-count="false">Follow @devi_lockwood</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></span>
</footer>
</html>
